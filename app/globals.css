/* ================================
  Design tokens (simple)
================================ */
:root {
  --color-brand: #3b82f6;
  --radius-md: 12px;
  --radius-lg: 16px;

  --bg: #f8fafc;
  --fg: #0f172a;
  --card: #ffffff;
  --muted: #64748b;
  --border: #e5e7eb;

  /* responsive spacing */
  --space-x: clamp(12px, 2.2vw, 24px);
  --space-y: clamp(16px, 3vw, 32px);

  /* admin shell */
  --sidebar-col: 256px; /* default desktop */
  --shell-gap: clamp(8px, 2.2vw, 24px);
  --sidebar-transition: transform 0.3s ease-out; /* BARU: untuk transisi mobile */
}

/* @media (prefers-color-scheme: dark) {
  :root {
    --bg: #0b1220;
    --fg: #e2e8f0;
    --card: #111827;
    --muted: #94a3b8;
    --border: #1f2937;
  }
} */

/* ================================
  Base
================================ */
html,
body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow-x: hidden;
}

body {
  background: var(--bg);
  color: var(--fg);
  font-family: "Public Sans", system-ui, -apple-system, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

.text-muted {
  color: var(--muted);
}

/* Kurangi animasi di device low-end / user preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

/* ================================
  Admin shell & content scrolling
================================ */
.admin-shell {
  display: grid;
  /* Default: Sidebar + Content */
  grid-template-columns: var(--sidebar-col) minmax(0, 1fr);
  column-gap: var(--shell-gap);
  min-height: 100dvh;
}

/* ---------------------------------------------------- */
/* 1. Responsif: Tablet Horizontal ( < 1280px ) */
/* ---------------------------------------------------- */
@media (max-width: 1280px) {
  :root {
    --sidebar-col: 220px;
  }
}

/* ---------------------------------------------------- */
/* 2. Responsif: Tablet Vertikal ( < 1024px ) */
/* ---------------------------------------------------- */
@media (max-width: 1024px) {
  :root {
    --sidebar-col: 72px; /* collapsed sidebar */
  }
}

/* ---------------------------------------------------- */
/* 3. Responsif: Mobile ( < 768px ) - Layout 1 Kolom/Overlay */
/* ---------------------------------------------------- */
@media (max-width: 768px) {
  .admin-shell {
    grid-template-columns: 1fr; /* 1 kolom penuh di mobile */
    column-gap: 0;
  }

  /* Sembunyikan gap karena sidebar jadi overlay */
  :root {
    --shell-gap: 0;
  }

  /* Sidebar diubah menjadi overlay */
  .admin-sidebar {
    position: fixed;
    top: 0;
    left: 0;
    z-index: 50;
    height: 100dvh;
    width: var(--sidebar-col);
    background: var(--card);
    border-right: 1px solid var(--border);
    /* Sembunyikan, geser ke kiri */
    transform: translateX(calc(var(--sidebar-col) * -1));
    transition: var(--sidebar-transition);
  }

  /* Class yang di-toggle untuk menampilkan sidebar */
  .admin-shell.sidebar-open .admin-sidebar {
    transform: translateX(0); /* Tampilkan */
  }

  /* Overlay untuk klik di luar sidebar */
  .admin-shell.sidebar-open::after {
    content: "";
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 49;
    background: rgba(0, 0, 0, 0.4);
  }
}

.admin-content {
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
  overflow: auto; /* scroll di sini */
  -webkit-overflow-scrolling: touch;

  /* scrollbar transparan */
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 163, 184, 0.45) transparent;
}
.admin-content::-webkit-scrollbar {
  width: 10px;
}
.admin-content::-webkit-scrollbar-track {
  background: transparent;
}
.admin-content::-webkit-scrollbar-thumb {
  background-color: rgba(148, 163, 184, 0.35);
  border-radius: 9999px;
  border: 2px solid transparent;
}
.admin-content:hover::-webkit-scrollbar-thumb {
  background-color: rgba(148, 163, 184, 0.55);
}

.admin-main {
  flex: 1;
  min-height: 0;
  padding: 0;
  overflow: visible;
}

/* Container halaman (max width + padding responsif + safe-area) */
.page-wrap {
  max-width: min(1320px, 100% - 2rem);
  margin-inline: auto;
  padding: clamp(16px, 3vw, 32px) clamp(12px, 3.2vw, 32px)
    clamp(24px, 4vw, 40px);
  padding-left: calc(clamp(12px, 3.2vw, 32px) + env(safe-area-inset-left, 0px));
  padding-right: calc(
    clamp(12px, 3.2vw, 32px) + env(safe-area-inset-right, 0px)
  );
}

/* ================================
  Wallpaper (container yang scroll)
================================ */
/* .bg-app {
  background-attachment: local;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-color: #0b1220;
  background-image: linear-gradient(
      to bottom right,
      #ffffff,
      rgba(2, 6, 23, 0.7)
    ),
    url("/images/test.bg.png");
} */

/* Mobile: hindari fixed-like effect (hemat GPU) */
@media (max-width: 640px) {
  .bg-app {
    background-attachment: scroll;
    background-image: linear-gradient(
        to bottom right,
        #ffffff,
        rgba(2, 6, 23, 0.64)
      ),
      url("/images/test.bg.png");
  }
}

/* ... (Kode untuk .card-dark, .vis-card, .user-shell, dll. tidak berubah) ... */

/* ================================
  Card gelap (AntD Card)
================================ */
.card-dark {
  border: 1px solid #2f3f60;
  padding: clamp(12px, 2.2vw, 16px);
  border-radius: clamp(14px, 1.6vw, 20px);
  color: #e5e7eb;
  background: linear-gradient(
    180deg,
    rgba(11, 18, 35, 0.96),
    rgba(11, 18, 35, 0.94)
  );
  box-shadow: 0 12px 30px rgba(2, 6, 23, 0.35);
  backdrop-filter: blur(6px) saturate(150%);
  -webkit-backdrop-filter: blur(6px) saturate(150%);
}
.card-hover {
  transition: transform 0.12s, box-shadow 0.2s;
}
.card-hover:hover {
  transform: translateY(-1px);
  box-shadow: 0 16px 36px rgba(2, 6, 23, 0.45);
}

.ant-card.card-dark {
  background: linear-gradient(
    180deg,
    rgba(11, 18, 35, 0.96),
    rgba(11, 18, 35, 0.94)
  ) !important;
  border-color: #2f3f60 !important;
  color: #e5e7eb;
  box-shadow: 0 12px 30px rgba(2, 6, 23, 0.35);
  padding: 0;
}
.card-dark .ant-card-body {
  background: transparent !important;
}

/* ================================
  Visitors toolbar (range 7d/30d/90d)
================================ */
.vis-card {
  position: relative;
}
.vis-card .ant-segmented {
  position: absolute;
  top: 12px;
  right: 16px;
  z-index: 2;
  background: rgba(15, 23, 42, 0.45);
  border: 1px solid #2f3f60;
  border-radius: 9999px;
}
.vis-card .ant-segmented-item {
  padding: 4px 10px;
  color: #cbd5e1;
}
.vis-card .ant-segmented-item:hover {
  color: #e5e7eb;
}
.vis-card .ant-segmented-thumb {
  background: linear-gradient(180deg, #60a5fa, #3b82f6);
  border-radius: 9999px;
  box-shadow: 0 8px 18px rgba(59, 130, 246, 0.28);
}

/* Fallback tombol custom */
.vis-card .range-buttons {
  position: absolute;
  top: 12px;
  right: 16px;
  z-index: 2;
  display: flex;
  gap: 8px;
  padding: 4px;
  background: rgba(15, 23, 42, 0.45);
  border: 1px solid #2f3f60;
  border-radius: 9999px;
}
.vis-card .range-buttons button {
  appearance: none;
  border: 0;
  background: transparent;
  cursor: pointer;
  padding: 6px 12px;
  border-radius: 9999px;
  color: #cbd5e1;
  transition: filter 0.15s, color 0.15s, background 0.15s;
}
.vis-card .range-buttons button:hover {
  color: #e5e7eb;
}
.vis-card .range-buttons .is-active {
  color: #fff;
  background: linear-gradient(180deg, #60a5fa, #3b82f6);
  box-shadow: 0 8px 18px rgba(59, 130, 246, 0.28);
}

/* ================================
  User public shell
================================ */
.user-shell {
  min-height: 100dvh;
  display: flex;
  flex-direction: column;
  background: #ffffff;
  color: #0f172a;
}

.user-main {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.user-content {
  flex: 1;
  width: min(1280px, 100%);
  margin: 0 auto;
  padding-block: clamp(48px, 8vw, 84px) clamp(32px, 6vw, 64px);
  /* padding-inline: clamp(20px, 6vw, 48px); */
  display: flex;
  flex-direction: column;
  gap: clamp(32px, 5vw, 64px);
}

@supports selector(:has(*)) {
  .user-content:has([data-shell="full"]) {
    padding-inline: 0;
  }
}

@media (max-width: 768px) {
  .user-content {
    padding-top: clamp(32px, 10vw, 60px);
    padding-bottom: clamp(24px, 8vw, 48px);
  }
}
